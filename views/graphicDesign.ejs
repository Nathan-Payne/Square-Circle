<% include ./partials/header %>

<section class="container">
    <% projects.forEach(function(project, index){ %>
        <div class="thumbnail fadeAnimation">
            <a href="/project/<%= project._id %>">
                <img src="<%= cloudinary.url(`square_circle/${project.title}.jpg`, {quality: 50, crop: `scale`}) %>" alt="<%= project.title %> image">
                <h4><span><%= project.title %></span></h4> 
                <h6><%= project.shortDesc %></h6>
                <span style="font-size: 0.7rem;">position xy: <%= project.xPosition %>, <%= project.yPosition %></span>
            </a>
        </div>
    <% }); %>
</section>

<script>
    let thumbnail = document.getElementsByClassName("thumbnail");
    let thumbProjects = <%- JSON.stringify(projects, ['_id', 'title', 'shortDesc', 'xPosition', 'yPosition']) %>;
        
    for (i=0; i<thumbProjects.length; i++){
        thumbnail[i].setAttribute("id", `image${i + 1}`)
        console.log(thumbProjects[i]);

        thumbnail[i].style.gridColumnStart = thumbProjects[i].xPosition;
        thumbnail[i].style.gridRowStart = thumbProjects[i].yPosition;
    };


</script>

<!-- auto selection of xPosition and yPosition values
could be done based on previous projects values if 
field left empty -->




<% include ./partials/footer %>